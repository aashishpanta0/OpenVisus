<VirtualHost *:80>

	ServerAdmin scrgiorgio@gmail.com
	DocumentRoot /usr/local/apache2/htdocs

	Alias /viewer /home/OpenVisus/webviewer
	<Directory /home/OpenVisus/webviewer>
		Options Indexes FollowSymLinks MultiViews
		AllowOverride All
		Header set "Access-Control-Allow-Origin" "*"
		Require all granted
	</Directory> 

	<LocationMatch "/mod_visus">
		Header set "Access-Control-Allow-Origin" "*"
		SetHandler visus
		<If "-f '/datasets/.htpasswd'">
			AuthType Basic
			AuthName "Authentication Required"
			AuthUserFile "/datasets/.htpasswd"
			Require valid-user
		</If>
		<Else>
			Require all granted
		</Else>
	</LocationMatch>

	<Location /server-status>
		SetHandler server-status
		Order allow,deny
		Allow from all
	</Location>

</VirtualHost>
